<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
<!--
    1. setTimeout()
      1) 지정한 시간(밀리초) 후에 한 번만 동작한다.
      2) 사용 예시
        (1) 동작
          const timerId = setTimeout(함수, 밀리초);
        (2) 취소
          clearTimeout(timerId);
-->

<!--
    2. setInterval()
      1) 지정한 시간(밀리초) 마다 반복해서 동작한다.
      2) 사용 예시
        (1) 동작
          const timerId = setInterval(함수, 밀리초);
        (2) 취소
          clearInterval(timerId);
-->
<h4>setTimeout 함수</h4>
<script>
  // 동작 순서 : 코드 순서대로 동작이 아닌, setTimeout 동작 코드 확인 후 넘기고, timeoutId 동작을 먼저 수행함 (비동기 처리)
  // 동작 명령 방법
  const timeoutId = setTimeout(() => { // const timeoutId 저장
    console.log('hello');
  },1000); // 1000밀리초(1초) 후 동작
  console.log(timeoutId); // 동작 취소를 위한 timeoutId 추출

  // 동작 취소 방법
  clearTimeout(timeoutId); // 타이머 함수의 동작을 취소시킴
</script>

<hr>

<h4>setInterval 함수</h4>
<script>
  let count = 0;
  const intervalId = setInterval(() => {
    count++;
    console.log(count + '번째 hello');
    if(count === 10) {
      clearInterval(intervalId); // 10번째 hello에서 동작 취소하기
    }
  }, 1000); // 1000밀리초(1초) 마다 반복 동작  
</script>

<!-- 문제. timer() 함수 구현하기 -->
<h4>timer() 함수</h4>
<script>
  /*
    timer() 함수
    1. 기능
      전달된 인자만큼 타이머를 동작시키는 함수. 1초마다 남은 초 정보를 화면에 출력함.
    2. 인자
      타이머를 동작시킬 시간(초)
    3. 반환
      없음
  */
 // 1. setInterval 함수 방식
 /*
  const timer = (seconds) => {
      const timerId = setInterval(() => {
        if(seconds === 0) {
          clearInterval(timerId);  // setInterval 종료
          return;                  // timer 함수 실행 종료
        }
        document.write(`<div>${seconds--}</div>`);
      }, 1000);
    }
    timer(5);
 */

 // 2. setTimeout 함수 방식 (recursive call(=재귀적 호출) : 본문 안에서 자기 자신을 부르는 호출)
   const timer = (seconds) => {
      setTimeout(() => {
        if(seconds === 0)
          return; // timer 함수 종료
        document.write(`<div>${seconds--}</div>`);
        timer(seconds);
      },1000);
    }
    timer(5);
</script>
<hr>

</body>
</html>